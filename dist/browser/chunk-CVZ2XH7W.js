import{Ca as u,Cb as Ve,Cd as mt,D as ne,Da as m,Db as ce,Dd as ct,Ea as c,Eb as B,Ed as ft,F as Ie,Fa as E,Fb as qe,Fd as dt,G as we,Ga as H,Gb as fe,Gd as ht,H as I,Hd as gt,Id as A,Jd as zt,La as z,Lb as Xe,M as N,Mb as Qe,Na as a,Nb as V,Oa as pe,Ob as de,P as T,Pa as le,Pb as v,Q as d,Qa as Oe,R as O,S as Ae,Sa as Pe,Ta as De,Tc as We,Ua as P,Uc as Ze,Va as F,W as oe,Wa as D,Xc as Ue,Yc as Je,Zc as Ye,a as ie,aa as Me,ab as Re,ad as Ke,bb as ue,bd as f,ca as re,cb as h,cd as et,db as Ge,dd as tt,eb as j,ec as k,ed as y,fb as ke,g as $,gd as it,ha as s,hd as S,ia as l,ib as me,id as nt,jd as w,ka as se,kb as Le,la as Ne,lb as R,ld as ot,md as rt,n as ye,nd as st,oa as ae,od as at,p as Se,pa as p,pb as $e,pd as ge,qb as Ee,qd as q,ra as Te,rb as _,rc as he,rd as X,sa as r,sd as pt,tb as He,u as be,ua as G,v as Fe,vb as je,wd as lt,xa as g,yd as ut,zb as Be}from"./chunk-YFUVJX4U.js";var Q=class t{isCollapsed=!1;static \u0275fac=function(e){return new(e||t)};static \u0275cmp=d({type:t,selectors:[["app-auth"]],decls:3,vars:0,consts:[[1,"auth-layout"],[1,"auth-container"]],template:function(e,i){e&1&&(u(0,"div",0)(1,"div",1),c(2,"router-outlet"),m()())},dependencies:[Xe],styles:[".auth-layout[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background-color:#f0f2f5}.auth-container[_ngcontent-%COMP%]{width:400px;padding:20px;background:#fff;border-radius:8px;box-shadow:0 2px 8px #0000001a}@media (max-width: 600px){.auth-container[_ngcontent-%COMP%]{width:90%}}"]})};var At=["nz-input-group-slot",""],Ct=["*"];function Mt(t,o){if(t&1&&c(0,"span",0),t&2){let e=a();r("nzType",e.icon)}}function Nt(t,o){if(t&1&&(E(0),F(1),H()),t&2){let e=a();s(),D(e.template)}}function Tt(t,o){if(t&1&&c(0,"span",3),t&2){let e=a(2);r("icon",e.nzAddOnBeforeIcon)("template",e.nzAddOnBefore)}}function Ot(t,o){}function Pt(t,o){if(t&1&&(u(0,"span",6),p(1,Ot,0,0,"ng-template",5),m()),t&2){let e=a(2),i=P(3);G("ant-input-affix-wrapper-disabled",e.disabled)("ant-input-affix-wrapper-sm",e.isSmall)("ant-input-affix-wrapper-lg",e.isLarge)("ant-input-affix-wrapper-focused",e.focused),r("ngClass",e.affixInGroupStatusCls),s(),r("ngTemplateOutlet",i)}}function Dt(t,o){}function Rt(t,o){if(t&1&&p(0,Dt,0,0,"ng-template",5),t&2){a(2);let e=P(5);r("ngTemplateOutlet",e)}}function Gt(t,o){if(t&1&&c(0,"span",3),t&2){let e=a(2);r("icon",e.nzAddOnAfterIcon)("template",e.nzAddOnAfter)}}function kt(t,o){if(t&1&&(u(0,"span",2),p(1,Tt,1,2,"span",3)(2,Pt,2,10,"span",4)(3,Rt,1,1,null,5)(4,Gt,1,2,"span",3),m()),t&2){let e=a();s(),g(e.nzAddOnBefore||e.nzAddOnBeforeIcon?1:-1),s(),g(e.isAffix||e.hasFeedback?2:3),s(2),g(e.nzAddOnAfter||e.nzAddOnAfterIcon?4:-1)}}function Lt(t,o){}function $t(t,o){if(t&1&&p(0,Lt,0,0,"ng-template",5),t&2){a(2);let e=P(3);r("ngTemplateOutlet",e)}}function Et(t,o){}function Ht(t,o){if(t&1&&p(0,Et,0,0,"ng-template",5),t&2){a(2);let e=P(5);r("ngTemplateOutlet",e)}}function jt(t,o){if(t&1&&p(0,$t,1,1,null,5)(1,Ht,1,1,null,5),t&2){let e=a();g(e.isAffix?0:1)}}function Bt(t,o){if(t&1&&c(0,"span",7),t&2){let e=a(2);r("icon",e.nzPrefixIcon)("template",e.nzPrefix)}}function Vt(t,o){}function qt(t,o){if(t&1&&c(0,"nz-form-item-feedback-icon",9),t&2){let e=a(3);r("status",e.status)}}function Xt(t,o){if(t&1&&(u(0,"span",8),p(1,qt,1,1,"nz-form-item-feedback-icon",9),m()),t&2){let e=a(2);r("icon",e.nzSuffixIcon)("template",e.nzSuffix),s(),g(e.isFeedback?1:-1)}}function Qt(t,o){if(t&1&&p(0,Bt,1,2,"span",7)(1,Vt,0,0,"ng-template",5)(2,Xt,2,3,"span",8),t&2){let e=a(),i=P(5);g(e.nzPrefix||e.nzPrefixIcon?0:-1),s(),r("ngTemplateOutlet",i),s(),g(e.nzSuffix||e.nzSuffixIcon||e.isFeedback?2:-1)}}function Wt(t,o){if(t&1&&(u(0,"span",10),c(1,"nz-form-item-feedback-icon",9),m()),t&2){let e=a(2);s(),r("status",e.status)}}function Zt(t,o){if(t&1&&(le(0),p(1,Wt,2,1,"span",10)),t&2){let e=a();s(),g(!e.isAddOn&&!e.isAffix&&e.isFeedback?1:-1)}}var xt=(()=>{class t{constructor(){this.icon=null,this.type=null,this.template=null}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=d({type:t,selectors:[["","nz-input-group-slot",""]],hostVars:6,hostBindings:function(i,n){i&2&&G("ant-input-group-addon",n.type==="addon")("ant-input-prefix",n.type==="prefix")("ant-input-suffix",n.type==="suffix")},inputs:{icon:"icon",type:"type",template:"template"},standalone:!0,features:[ue],attrs:At,ngContentSelectors:Ct,decls:3,vars:2,consts:[["nz-icon","",3,"nzType"],[4,"nzStringTemplateOutlet"]],template:function(i,n){i&1&&(pe(),p(0,Mt,1,1,"span",0)(1,Nt,2,1,"ng-container",1),le(2)),i&2&&(g(n.icon?0:-1),s(),r("nzStringTemplateOutlet",n.template))},dependencies:[Je,Ue,Ze,We],encapsulation:2,changeDetection:0})}}return t})(),Ce=(()=>{class t{get disabled(){return this.ngControl&&this.ngControl.disabled!==null?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=e}constructor(e,i,n,C){this.renderer=e,this.elementRef=i,this.hostView=n,this.directionality=C,this.nzBorderless=!1,this.nzSize="default",this.nzStepperless=!0,this.nzStatus="",this._disabled=!1,this.disabled$=new $,this.dir="ltr",this.prefixCls="ant-input",this.status="",this.statusCls={},this.hasFeedback=!1,this.feedbackRef=null,this.components=[],this.destroy$=new $,this.ngControl=T(et,{self:!0,optional:!0}),this.nzFormStatusService=T(ge,{optional:!0}),this.nzFormNoStatusService=T(q,{optional:!0})}ngOnInit(){this.nzFormStatusService?.formStatusChanges.pipe(ne((e,i)=>e.status===i.status&&e.hasFeedback===i.hasFeedback),I(this.destroy$)).subscribe(({status:e,hasFeedback:i})=>{this.setStatusStyles(e,i)}),this.ngControl&&this.ngControl.statusChanges?.pipe(Fe(()=>this.ngControl.disabled!==null),I(this.destroy$)).subscribe(()=>{this.disabled$.next(this.ngControl.disabled)}),this.dir=this.directionality.value,this.directionality.change?.pipe(I(this.destroy$)).subscribe(e=>{this.dir=e})}ngOnChanges(e){let{disabled:i,nzStatus:n}=e;i&&this.disabled$.next(this.disabled),n&&this.setStatusStyles(this.nzStatus,this.hasFeedback)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}setStatusStyles(e,i){this.status=e,this.hasFeedback=i,this.renderFeedbackIcon(),this.statusCls=k(this.prefixCls,e,i),Object.keys(this.statusCls).forEach(n=>{this.statusCls[n]?this.renderer.addClass(this.elementRef.nativeElement,n):this.renderer.removeClass(this.elementRef.nativeElement,n)})}renderFeedbackIcon(){if(!this.status||!this.hasFeedback||this.nzFormNoStatusService){this.hostView.clear(),this.feedbackRef=null;return}this.feedbackRef=this.feedbackRef||this.hostView.createComponent(X),this.feedbackRef.location.nativeElement.classList.add("ant-input-suffix"),this.feedbackRef.instance.status=this.status,this.feedbackRef.instance.updateIcon()}static{this.\u0275fac=function(i){return new(i||t)(l(se),l(re),l(Ne),l(he))}}static{this.\u0275dir=Ae({type:t,selectors:[["input","nz-input",""],["textarea","nz-input",""]],hostAttrs:[1,"ant-input"],hostVars:13,hostBindings:function(i,n){i&2&&(Te("disabled",n.disabled||null),G("ant-input-disabled",n.disabled)("ant-input-borderless",n.nzBorderless)("ant-input-lg",n.nzSize==="large")("ant-input-sm",n.nzSize==="small")("ant-input-rtl",n.dir==="rtl")("ant-input-stepperless",n.nzStepperless))},inputs:{nzBorderless:[2,"nzBorderless","nzBorderless",R],nzSize:"nzSize",nzStepperless:[2,"nzStepperless","nzStepperless",R],nzStatus:"nzStatus",disabled:[2,"disabled","disabled",R]},exportAs:["nzInput"],standalone:!0,features:[ae,oe]})}}return t})();var xe=(()=>{class t{constructor(e,i,n,C,x){this.focusMonitor=e,this.elementRef=i,this.renderer=n,this.cdr=C,this.directionality=x,this.nzAddOnBeforeIcon=null,this.nzAddOnAfterIcon=null,this.nzPrefixIcon=null,this.nzSuffixIcon=null,this.nzStatus="",this.nzSize="default",this.nzSearch=!1,this.nzCompact=!1,this.isLarge=!1,this.isSmall=!1,this.isAffix=!1,this.isAddOn=!1,this.isFeedback=!1,this.focused=!1,this.disabled=!1,this.dir="ltr",this.prefixCls="ant-input",this.affixStatusCls={},this.groupStatusCls={},this.affixInGroupStatusCls={},this.status="",this.hasFeedback=!1,this.destroy$=new $,this.nzFormStatusService=T(ge,{optional:!0}),this.nzFormNoStatusService=T(q,{optional:!0})}updateChildrenInputSize(){this.listOfNzInputDirective&&this.listOfNzInputDirective.forEach(e=>e.nzSize=this.nzSize)}ngOnInit(){this.nzFormStatusService?.formStatusChanges.pipe(ne((e,i)=>e.status===i.status&&e.hasFeedback===i.hasFeedback),I(this.destroy$)).subscribe(({status:e,hasFeedback:i})=>{this.setStatusStyles(e,i)}),this.focusMonitor.monitor(this.elementRef,!0).pipe(I(this.destroy$)).subscribe(e=>{this.focused=!!e,this.cdr.markForCheck()}),this.dir=this.directionality.value,this.directionality.change?.pipe(I(this.destroy$)).subscribe(e=>{this.dir=e})}ngAfterContentInit(){this.updateChildrenInputSize();let e=this.listOfNzInputDirective.changes.pipe(Ie(this.listOfNzInputDirective));e.pipe(we(i=>be(e,...i.map(n=>n.disabled$))),Se(()=>e),ye(i=>i.some(n=>n.disabled)),I(this.destroy$)).subscribe(i=>{this.disabled=i,this.cdr.markForCheck()})}ngOnChanges(e){let{nzSize:i,nzSuffix:n,nzPrefix:C,nzPrefixIcon:x,nzSuffixIcon:yt,nzAddOnAfter:St,nzAddOnBefore:bt,nzAddOnAfterIcon:Ft,nzAddOnBeforeIcon:It,nzStatus:wt}=e;i&&(this.updateChildrenInputSize(),this.isLarge=this.nzSize==="large",this.isSmall=this.nzSize==="small"),(n||C||x||yt)&&(this.isAffix=!!(this.nzSuffix||this.nzPrefix||this.nzPrefixIcon||this.nzSuffixIcon)),(St||bt||Ft||It)&&(this.isAddOn=!!(this.nzAddOnAfter||this.nzAddOnBefore||this.nzAddOnAfterIcon||this.nzAddOnBeforeIcon),this.nzFormNoStatusService?.noFormStatus?.next(this.isAddOn)),wt&&this.setStatusStyles(this.nzStatus,this.hasFeedback)}ngOnDestroy(){this.focusMonitor.stopMonitoring(this.elementRef),this.destroy$.next(),this.destroy$.complete()}setStatusStyles(e,i){this.status=e,this.hasFeedback=i,this.isFeedback=!!e&&i;let n=!!(this.nzSuffix||this.nzPrefix||this.nzPrefixIcon||this.nzSuffixIcon);this.isAffix=n||!this.isAddOn&&i,this.affixInGroupStatusCls=this.isAffix||this.isFeedback?this.affixStatusCls=k(`${this.prefixCls}-affix-wrapper`,e,i):{},this.cdr.markForCheck(),this.affixStatusCls=k(`${this.prefixCls}-affix-wrapper`,this.isAddOn?"":e,this.isAddOn?!1:i),this.groupStatusCls=k(`${this.prefixCls}-group-wrapper`,this.isAddOn?e:"",this.isAddOn?i:!1);let C=ie(ie({},this.affixStatusCls),this.groupStatusCls);Object.keys(C).forEach(x=>{C[x]?this.renderer.addClass(this.elementRef.nativeElement,x):this.renderer.removeClass(this.elementRef.nativeElement,x)})}static{this.\u0275fac=function(i){return new(i||t)(l(lt),l(re),l(se),l(Le),l(he))}}static{this.\u0275cmp=d({type:t,selectors:[["nz-input-group"]],contentQueries:function(i,n,C){if(i&1&&Oe(C,Ce,4),i&2){let x;Pe(x=De())&&(n.listOfNzInputDirective=x)}},hostVars:40,hostBindings:function(i,n){i&2&&G("ant-input-group-compact",n.nzCompact)("ant-input-search-enter-button",n.nzSearch)("ant-input-search",n.nzSearch)("ant-input-search-rtl",n.dir==="rtl")("ant-input-search-sm",n.nzSearch&&n.isSmall)("ant-input-search-large",n.nzSearch&&n.isLarge)("ant-input-group-wrapper",n.isAddOn)("ant-input-group-wrapper-rtl",n.dir==="rtl")("ant-input-group-wrapper-lg",n.isAddOn&&n.isLarge)("ant-input-group-wrapper-sm",n.isAddOn&&n.isSmall)("ant-input-affix-wrapper",n.isAffix&&!n.isAddOn)("ant-input-affix-wrapper-rtl",n.dir==="rtl")("ant-input-affix-wrapper-focused",n.isAffix&&n.focused)("ant-input-affix-wrapper-disabled",n.isAffix&&n.disabled)("ant-input-affix-wrapper-lg",n.isAffix&&!n.isAddOn&&n.isLarge)("ant-input-affix-wrapper-sm",n.isAffix&&!n.isAddOn&&n.isSmall)("ant-input-group",!n.isAffix&&!n.isAddOn)("ant-input-group-rtl",n.dir==="rtl")("ant-input-group-lg",!n.isAffix&&!n.isAddOn&&n.isLarge)("ant-input-group-sm",!n.isAffix&&!n.isAddOn&&n.isSmall)},inputs:{nzAddOnBeforeIcon:"nzAddOnBeforeIcon",nzAddOnAfterIcon:"nzAddOnAfterIcon",nzPrefixIcon:"nzPrefixIcon",nzSuffixIcon:"nzSuffixIcon",nzAddOnBefore:"nzAddOnBefore",nzAddOnAfter:"nzAddOnAfter",nzPrefix:"nzPrefix",nzStatus:"nzStatus",nzSuffix:"nzSuffix",nzSize:"nzSize",nzSearch:[2,"nzSearch","nzSearch",R],nzCompact:[2,"nzCompact","nzCompact",R]},exportAs:["nzInputGroup"],standalone:!0,features:[Re([q]),ae,oe,ue],ngContentSelectors:Ct,decls:6,vars:1,consts:[["affixTemplate",""],["contentTemplate",""],[1,"ant-input-wrapper","ant-input-group"],["nz-input-group-slot","","type","addon",3,"icon","template"],[1,"ant-input-affix-wrapper",3,"ant-input-affix-wrapper-disabled","ant-input-affix-wrapper-sm","ant-input-affix-wrapper-lg","ant-input-affix-wrapper-focused","ngClass"],[3,"ngTemplateOutlet"],[1,"ant-input-affix-wrapper",3,"ngClass"],["nz-input-group-slot","","type","prefix",3,"icon","template"],["nz-input-group-slot","","type","suffix",3,"icon","template"],[3,"status"],["nz-input-group-slot","","type","suffix"]],template:function(i,n){i&1&&(pe(),p(0,kt,5,3,"span",2)(1,jt,2,1)(2,Qt,3,3,"ng-template",null,0,me)(4,Zt,2,1,"ng-template",null,1,me)),i&2&&g(n.isAddOn?0:1)},dependencies:[xt,$e,He,pt,X],encapsulation:2,changeDetection:0})}}return t})();var _t=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=O({type:t})}static{this.\u0275inj=N({imports:[xe,xt]})}}return t})();function Jt(t,o){if(t&1&&(E(0),u(1,"nz-form-item",6)(2,"nz-form-control",7)(3,"nz-input-group"),c(4,"input",8),m()()(),H()),t&2){let e=o.$implicit;s(2),r("nzErrorTip",e.errorTip),s(2),r("type",e.type)("formControlName",e.formControlName)("placeholder",e.placeholder)}}function Yt(t,o){if(t&1&&(u(0,"a",9),F(1,"Forgot password?"),m()),t&2){let e=a();r("routerLink",e.redirectForgot)}}function Kt(t,o){if(t&1&&(u(0,"p",10)(1,"a",11),F(2),m()()),t&2){let e=a();s(),r("routerLink",e.redirectLink),s(),D(e.redirectText)}}var b=class t{formGroup;title;fields;buttonText;redirectForgot;redirectLink;redirectText;submitForm=new Me;onSubmit(){if(this.formGroup.valid)this.submitForm.emit();else for(let o in this.formGroup.controls)this.formGroup.controls[o].markAsDirty(),this.formGroup.controls[o].updateValueAndValidity()}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=d({type:t,selectors:[["app-auth-form"]],inputs:{formGroup:"formGroup",title:"title",fields:"fields",buttonText:"buttonText",redirectForgot:"redirectForgot",redirectLink:"redirectLink",redirectText:"redirectText"},outputs:{submitForm:"submitForm"},decls:8,vars:6,consts:[["nz-form","",1,"form",3,"ngSubmit","formGroup"],[1,"form-title"],[4,"ngFor","ngForOf"],["class","form-forgot",3,"routerLink",4,"ngIf"],["nz-button","","nzType","primary",1,"form-button","form-margin"],["class","form-redirect",4,"ngIf"],[1,"form-input"],[3,"nzErrorTip"],["nz-input","",3,"type","formControlName","placeholder"],[1,"form-forgot",3,"routerLink"],[1,"form-redirect"],[3,"routerLink"]],template:function(e,i){e&1&&(u(0,"form",0),z("ngSubmit",function(){return i.onSubmit()}),u(1,"h1",1),F(2),m(),p(3,Jt,5,4,"ng-container",2)(4,Yt,2,1,"a",3),u(5,"button",4),F(6),m(),p(7,Kt,3,2,"p",5),m()),e&2&&(r("formGroup",i.formGroup),s(2),D(i.title),s(),r("ngForOf",i.fields),s(),r("ngIf",i.redirectForgot),s(2),D(i.buttonText),s(),r("ngIf",i.redirectText&&i.redirectLink))},dependencies:[Ee,_,V,it,Ke,tt,y,S,nt,Ce,xe,ct,mt,dt,ft,ht,st,Ye,rt],styles:[".form[_ngcontent-%COMP%]{width:100%}.form-title[_ngcontent-%COMP%]{color:#1890ff;text-align:center}.form-input[_ngcontent-%COMP%]:last-of-type{margin-bottom:0}.form-margin[_ngcontent-%COMP%]{margin:12px 0 16px}.form-forgot[_ngcontent-%COMP%]{float:right}.form-button[_ngcontent-%COMP%]{width:100%}.form-redirect[_ngcontent-%COMP%]{text-align:center}"],data:{animation:[Ve("helpMotion",[qe("void",B({opacity:0})),fe("void => *",[ce("0.5s ease-in",B({opacity:1}))]),fe("* => void",[ce("0.5s ease-out",B({opacity:0}))])])]}})};var ei=()=>({type:"email",formControlName:"email",placeholder:"Email",errorTip:"Please input your email!"}),ti=()=>({type:"password",formControlName:"password",placeholder:"Password",errorTip:"Please input your password!"}),ii=(t,o)=>[t,o];function ni(t,o){if(t&1&&c(0,"nz-alert",2),t&2){let e=a();r("nzMessage",e.errorMessage)("nzShowIcon",!0)("nzCloseable",!0)}}var J=class t{constructor(o,e,i){this.fb=o;this.router=e;this.authService=i}loginForm;errorMessage=null;ngOnInit(){this.loginForm=this.fb.group({email:[null,[f.required,f.email]],password:[null,[f.required]]}),this.loginForm.valueChanges.subscribe(()=>{this.errorMessage=null})}submitForm(){this.loginForm.valid?this.authService.login(this.loginForm.value).subscribe({next:o=>{localStorage.setItem("jwt",o.token),localStorage.setItem("user",JSON.stringify(o.data.user)),this.errorMessage=null,this.router.navigate(["/posts"])},error:o=>{console.error("Login failed",o),this.errorMessage=o.error.message}}):this.loginForm.markAllAsTouched()}static \u0275fac=function(e){return new(e||t)(l(w),l(Qe),l(v))};static \u0275cmp=d({type:t,selectors:[["app-login"]],decls:2,vars:13,consts:[["nzType","error","style","position: fixed; top: 20px; left: 50%; transform: translateX(-50%); z-index: 1000;",3,"nzMessage","nzShowIcon","nzCloseable",4,"ngIf"],[3,"submitForm","formGroup","title","fields","buttonText","redirectForgot","redirectText","redirectLink"],["nzType","error",2,"position","fixed","top","20px","left","50%","transform","translateX(-50%)","z-index","1000",3,"nzMessage","nzShowIcon","nzCloseable"]],template:function(e,i){e&1&&(p(0,ni,1,3,"nz-alert",0),u(1,"app-auth-form",1),z("submitForm",function(){return i.submitForm()}),m()),e&2&&(r("ngIf",i.errorMessage),s(),r("formGroup",i.loginForm)("title","Let's login")("fields",j(10,ii,h(8,ei),h(9,ti)))("buttonText","Log in")("redirectForgot","/auth/forgot-password")("redirectText","Don`t have an account? Register")("redirectLink","/auth/register"))},dependencies:[_,y,S,A,b],encapsulation:2})};var oi=()=>({type:"password",formControlName:"password",placeholder:"Password",errorTip:"Please input your password!"}),ri=()=>({type:"password",formControlName:"passwordConfirm",placeholder:"Confirm Password",errorTip:"Please input your password confirm!"}),si=(t,o)=>[t,o];function ai(t,o){if(t&1&&c(0,"nz-alert",4),t&2){let e=a();r("nzMessage",e.errorMessage)("nzShowIcon",!0)("nzCloseable",!0)}}function pi(t,o){if(t&1&&c(0,"nz-alert",5),t&2){let e=a();r("nzMessage",e.successMessage)("nzShowIcon",!0)("nzCloseable",!0)}}function li(t,o){t&1&&(u(0,"div",6)(1,"a",7),F(2,"Go to Login"),m()())}var Y=class t{constructor(o,e){this.fb=o;this.authService=e}resetPasswordForm;errorMessage=null;successMessage=null;ngOnInit(){this.resetPasswordForm=this.fb.group({password:[null,[f.required]],passwordConfirm:[null,[f.required]]}),this.resetPasswordForm.valueChanges.subscribe(()=>{this.errorMessage=null,this.successMessage=null})}submitForm(){this.resetPasswordForm.valid?this.authService.resetPassword(this.resetPasswordForm.value,"77c6c1cbc392f15425a92f4f2552dbc706028b26b448d243a8be8bc09d1d139a").subscribe({next:o=>{this.resetPasswordForm.reset(),this.errorMessage=null,this.successMessage="Password Reset Successfully! Let's login"},error:o=>{console.error("Password Reset failed",o),this.errorMessage=o.error.message,this.successMessage=null}}):this.resetPasswordForm.markAllAsTouched()}static \u0275fac=function(e){return new(e||t)(l(w),l(v))};static \u0275cmp=d({type:t,selectors:[["app-reset-password"]],decls:4,vars:12,consts:[["nzType","error","style","position: fixed; top: 20px; left: 50%; transform: translateX(-50%); z-index: 1000;",3,"nzMessage","nzShowIcon","nzCloseable",4,"ngIf"],["nzType","success","style","position: fixed; top: 20px; left: 50%; transform: translateX(-50%); z-index: 1000;",3,"nzMessage","nzShowIcon","nzCloseable",4,"ngIf"],[3,"submitForm","formGroup","title","fields","buttonText"],["style","text-align: center;",4,"ngIf"],["nzType","error",2,"position","fixed","top","20px","left","50%","transform","translateX(-50%)","z-index","1000",3,"nzMessage","nzShowIcon","nzCloseable"],["nzType","success",2,"position","fixed","top","20px","left","50%","transform","translateX(-50%)","z-index","1000",3,"nzMessage","nzShowIcon","nzCloseable"],[2,"text-align","center"],["routerLink","/auth/login"]],template:function(e,i){e&1&&(p(0,ai,1,3,"nz-alert",0)(1,pi,1,3,"nz-alert",1),u(2,"app-auth-form",2),z("submitForm",function(){return i.submitForm()}),m(),p(3,li,3,0,"div",3)),e&2&&(r("ngIf",i.errorMessage),s(),r("ngIf",i.successMessage),s(),r("formGroup",i.resetPasswordForm)("title","Set new password")("fields",j(9,si,h(7,oi),h(8,ri)))("buttonText","Send"),s(),r("ngIf",i.successMessage))},dependencies:[_,V,y,S,A,b],encapsulation:2})};var ui=()=>({type:"text",formControlName:"name",placeholder:"Name",errorTip:"Please input your name!"}),mi=()=>({type:"email",formControlName:"email",placeholder:"Email",errorTip:"Please input your email!"}),ci=()=>({type:"password",formControlName:"password",placeholder:"Password",errorTip:"Please input your password!"}),fi=()=>({type:"password",formControlName:"passwordConfirm",placeholder:"Confirm Password",errorTip:"Please confirm your password!"}),di=(t,o,e,i)=>[t,o,e,i];function hi(t,o){if(t&1&&c(0,"nz-alert",3),t&2){let e=a();r("nzMessage",e.errorMessage)("nzShowIcon",!0)("nzCloseable",!0)}}function gi(t,o){if(t&1&&c(0,"nz-alert",4),t&2){let e=a();r("nzMessage",e.successMessage)("nzShowIcon",!0)("nzCloseable",!0)}}var K=class t{constructor(o,e){this.fb=o;this.authService=e}registerForm;errorMessage=null;successMessage=null;ngOnInit(){this.registerForm=this.fb.group({name:[null,[f.required]],email:[null,[f.required,f.email]],password:[null,[f.required]],passwordConfirm:[null,[f.required]]}),this.registerForm.valueChanges.subscribe(()=>{this.errorMessage=null,this.successMessage=null})}submitForm(){this.registerForm.valid?this.authService.register(this.registerForm.value).subscribe({next:o=>{this.registerForm.reset(),this.errorMessage=null,this.successMessage="Successfully! Let's login"},error:o=>{console.error("Registration failed",o),this.errorMessage=o.error.message,this.successMessage=null}}):this.registerForm.markAllAsTouched()}static \u0275fac=function(e){return new(e||t)(l(w),l(v))};static \u0275cmp=d({type:t,selectors:[["app-register"]],decls:3,vars:17,consts:[["nzType","error","style","position: fixed; top: 20px; left: 50%; transform: translateX(-50%); z-index: 1000;",3,"nzMessage","nzShowIcon","nzCloseable",4,"ngIf"],["nzType","success","style","position: fixed; top: 20px; left: 50%; transform: translateX(-50%); z-index: 1000;",3,"nzMessage","nzShowIcon","nzCloseable",4,"ngIf"],[3,"submitForm","formGroup","title","fields","buttonText","redirectText","redirectLink"],["nzType","error",2,"position","fixed","top","20px","left","50%","transform","translateX(-50%)","z-index","1000",3,"nzMessage","nzShowIcon","nzCloseable"],["nzType","success",2,"position","fixed","top","20px","left","50%","transform","translateX(-50%)","z-index","1000",3,"nzMessage","nzShowIcon","nzCloseable"]],template:function(e,i){e&1&&(p(0,hi,1,3,"nz-alert",0)(1,gi,1,3,"nz-alert",1),u(2,"app-auth-form",2),z("submitForm",function(){return i.submitForm()}),m()),e&2&&(r("ngIf",i.errorMessage),s(),r("ngIf",i.successMessage),s(),r("formGroup",i.registerForm)("title","Let's register")("fields",ke(12,di,h(8,ui),h(9,mi),h(10,ci),h(11,fi)))("buttonText","Register")("redirectText","Already have an account? Login")("redirectLink","/auth/login"))},dependencies:[_,y,S,A,b],encapsulation:2})};var zi=()=>({type:"email",formControlName:"email",placeholder:"Email",errorTip:"Please input your email!"}),Ci=t=>[t];function xi(t,o){if(t&1&&c(0,"nz-alert",3),t&2){let e=a();r("nzMessage",e.errorMessage)("nzShowIcon",!0)("nzCloseable",!0)}}function _i(t,o){if(t&1&&c(0,"nz-alert",4),t&2){let e=a();r("nzMessage",e.successMessage)("nzShowIcon",!0)("nzCloseable",!0)}}var ee=class t{constructor(o,e){this.fb=o;this.authService=e}forgotPasswordForm;errorMessage=null;successMessage=null;ngOnInit(){this.forgotPasswordForm=this.fb.group({email:[null,[f.required,f.email]]}),this.forgotPasswordForm.valueChanges.subscribe(()=>{this.errorMessage=null,this.successMessage=null})}submitForm(){this.forgotPasswordForm.valid?this.authService.forgotPassword(this.forgotPasswordForm.value).subscribe({next:o=>{this.forgotPasswordForm.reset(),this.errorMessage=null,this.successMessage="Reset link sent Successfully, Check your Email!"},error:o=>{console.error("Forgot Password Request failed",o),this.errorMessage=o.error.message,this.successMessage=null}}):this.forgotPasswordForm.markAllAsTouched()}static \u0275fac=function(e){return new(e||t)(l(w),l(v))};static \u0275cmp=d({type:t,selectors:[["app-forgot-password"]],decls:3,vars:9,consts:[["nzType","error","style","position: fixed; top: 20px; left: 50%; transform: translateX(-50%); z-index: 1000;",3,"nzMessage","nzShowIcon","nzCloseable",4,"ngIf"],["nzType","success","style","position: absolute; top: 20px; left: 50%; transform: translateX(-50%); z-index: 1000;",3,"nzMessage","nzShowIcon","nzCloseable",4,"ngIf"],[3,"submitForm","formGroup","title","fields","buttonText"],["nzType","error",2,"position","fixed","top","20px","left","50%","transform","translateX(-50%)","z-index","1000",3,"nzMessage","nzShowIcon","nzCloseable"],["nzType","success",2,"position","absolute","top","20px","left","50%","transform","translateX(-50%)","z-index","1000",3,"nzMessage","nzShowIcon","nzCloseable"]],template:function(e,i){e&1&&(p(0,xi,1,3,"nz-alert",0)(1,_i,1,3,"nz-alert",1),u(2,"app-auth-form",2),z("submitForm",function(){return i.submitForm()}),m()),e&2&&(r("ngIf",i.errorMessage),s(),r("ngIf",i.successMessage),s(),r("formGroup",i.forgotPasswordForm)("title","We'll send you a link")("fields",Ge(7,Ci,h(6,zi)))("buttonText","Send"))},dependencies:[_,y,S,A,b],encapsulation:2})};var vi=[{path:"",component:Q,children:[{path:"login",component:J},{path:"register",component:K},{path:"forgot-password",component:ee},{path:"reset-password",component:Y}]}],te=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=O({type:t});static \u0275inj=N({imports:[de.forChild(vi),de]})};var vt=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=O({type:t});static \u0275inj=N({providers:[v],imports:[je,te,Be,ot,_t,gt,at,ut,zt]})};export{vt as a};
